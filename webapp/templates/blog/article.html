{%  macro article(post,is_edit) %}
<div >
    <h2>{{ post.title }}</h2>
    <small>{{ post.publish_date.strftime('%Y-%m-%d %H:%M:%S') }} {{ post.user.username }}</small>
    {% if is_edit %}
        <a href="{{ url_for('blog.edit',id=post.id) }}">编辑</a>
    {% endif %}
    <p><img src="{{ post.cover }}"></p>
    {% for photo in post.photos %}
        <img src="{{ photo.url }}">
    {% endfor %}
    <p>{{ post.text | safe }}</p>
    <div>
    tag:
        {% for tag in post.tags %}
            <a href="{{ url_for('blog.tag',id=tag.id) }}">{{ tag.title }}</a>
        {% endfor %}
    </div>
</div >
{% endmacro %}

{%  macro articleList(posts) %}
    <div class="card-columns">
    {% for post in posts %}
        {{ articleItem(post) }}
    {% endfor %}
    </div>
{% endmacro %}

{%  macro articleItem(post) %}
<div class="card">
  <a href="{{ url_for('.post',post_id=post.id) }}"><img class="card-img-top" src="{{ post.cover }}"></a>
  <div class="card-body">
      <h2>{{ post.title }}</h2>
      <small>{{ post.user.username }} 发布于：{{ post.publish_date.strftime('%Y-%m-%d %H:%M:%S') }}</small>
      <p class="card-text">{{ post.text | safe | truncate(200)}}</p>
      <p><a class="uk-button uk-button-text" href="{{ url_for('.post',post_id=post.id) }}">查看</a></p>
  </div>
</div>
{% endmacro %}